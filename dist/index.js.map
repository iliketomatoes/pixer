{"version":3,"file":null,"sources":["../lib/index.js"],"sourcesContent":["var Pixer;\n(function (Pixer) {\n    let idCursor = 0;\n    let IDs = [];\n    let defaults = {\n        minSquareWidth: 100\n    };\n    function init(el) {\n        // Stringify options so we can put them into the HTML data attribute\n        // let options = JSON.stringify(settings);\n        let defaultSettings = JSON.stringify(defaults);\n        let canvasId = 'pixer_' + idCursor;\n        let canvas = document.createElement('canvas');\n        canvas.setAttribute('data-pixer-id', canvasId);\n        canvas.setAttribute('data-pixer-opts', defaultSettings);\n        // Icrease the cursor\n        idCursor++;\n        // Store the id\n        IDs.push(canvasId);\n        setScene(canvas);\n        el.appendChild(canvas);\n    }\n    Pixer.init = init;\n    function getSettings(options) {\n        Object.assign(this.defaults, options);\n    }\n    function setScene(canvas) {\n        if (canvas.getContext) {\n            var ctx = canvas.getContext(\"2d\");\n            ctx.fillStyle = \"rgb(200,0,0)\";\n            ctx.fillRect(10, 10, 50, 50);\n            ctx.fillStyle = \"rgba(0, 0, 200, 0.5)\";\n            ctx.fillRect(30, 30, 50, 50);\n        }\n    }\n    class API {\n        constructor() { }\n        static get Instance() {\n            return this._instance || (this._instance = new this());\n        }\n    }\n    Pixer.API = API;\n})(Pixer || (Pixer = {}));\nfunction pixer() {\n    let targets = document.querySelectorAll('[data-pixer]');\n    for (let el of targets) {\n        let child = el.firstChild;\n        // If elements are already initialized\n        if (child && child.tagName === 'canvas' && child.hasAttribute('data-pixer-id'))\n            continue;\n        Pixer.init(el);\n    }\n    return Pixer.API;\n}\nexport default pixer;\n"],"names":["Pixer","idCursor","IDs","defaults","init","el","defaultSettings","JSON","stringify","canvasId","canvas","document","createElement","setAttribute","push","appendChild","getSettings","options","assign","setScene","getContext","ctx","fillStyle","fillRect","API","_instance","pixer","targets","querySelectorAll","child","firstChild","tagName","hasAttribute"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,KAAJ;AACA,CAAC,UAAUA,KAAV,EAAiB;QACVC,WAAW,CAAf;QACIC,MAAM,EAAV;QACIC,cAAW;wBACK;KADpB;aAGSC,IAAT,CAAcC,EAAd,EAAkB;;;YAGVC,kBAAkBC,KAAKC,SAAL,CAAeL,WAAf,CAAtB;YACIM,WAAW,WAAWR,QAA1B;YACIS,SAASC,SAASC,aAAT,CAAuB,QAAvB,CAAb;eACOC,YAAP,CAAoB,eAApB,EAAqCJ,QAArC;eACOI,YAAP,CAAoB,iBAApB,EAAuCP,eAAvC;;;;YAIIQ,IAAJ,CAASL,QAAT;iBACSC,MAAT;WACGK,WAAH,CAAeL,MAAf;;UAEEN,IAAN,GAAaA,IAAb;aACSY,WAAT,CAAqBC,OAArB,EAA8B;eACnBC,MAAP,CAAc,KAAKf,QAAnB,EAA6Bc,OAA7B;;aAEKE,QAAT,CAAkBT,MAAlB,EAA0B;YAClBA,OAAOU,UAAX,EAAuB;gBACfC,MAAMX,OAAOU,UAAP,CAAkB,IAAlB,CAAV;gBACIE,SAAJ,GAAgB,cAAhB;gBACIC,QAAJ,CAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB;gBACID,SAAJ,GAAgB,sBAAhB;gBACIC,QAAJ,CAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB;;;;QAGFC,GAlCQ;uBAmCI;;;;;;gCACQ;uBACX,KAAKC,SAAL,KAAmB,KAAKA,SAAL,GAAiB,IAAI,IAAJ,EAApC,CAAP;;;;;;UAGFD,GAAN,GAAYA,GAAZ;CAxCJ,EAyCGxB,UAAUA,QAAQ,EAAlB,CAzCH;AA0CA,SAAS0B,KAAT,GAAiB;QACTC,UAAUhB,SAASiB,gBAAT,CAA0B,cAA1B,CAAd;;;;;;6BACeD,OAAf,8HAAwB;gBAAftB,EAAe;;gBAChBwB,QAAQxB,GAAGyB,UAAf;;gBAEID,SAASA,MAAME,OAAN,KAAkB,QAA3B,IAAuCF,MAAMG,YAAN,CAAmB,eAAnB,CAA3C,EACI;kBACE5B,IAAN,CAAWC,EAAX;;;;;;;;;;;;;;;;;WAEGL,MAAMwB,GAAb;CAEJ;;;;"}